"use strict";var h=require("fs"),v=require("module"),c=require("@esbuild-kit/core-utils"),_=require("get-tsconfig"),d=require("tsconfig-paths");function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var y=n(h),r=n(v),j=n(_);const F=/\.[cm]?tsx?$/,o=d.loadConfig(),T=o.resultType==="failed"?e=>e:d.createMatchPath(o.absoluteBaseUrl,o.paths,o.mainFields,o.addMatchAll),u=j.default(),b=u==null?void 0:u.config,x=c.installSourceMapSupport();function m(e,t){process.send&&process.send({type:"dependency",path:t});const a=y.default.readFileSync(t,"utf8"),s=c.transformSync(a,t,{format:"cjs",tsconfigRaw:b});s.map&&x.set(t,s.map),e._compile(s.code,t)}const p=r.default._extensions;[".js",".ts",".tsx",".jsx"].forEach(e=>{p[e]=m}),[".cjs",".mjs",".cts",".mts"].forEach(e=>{Object.defineProperty(p,e,{value:m,enumerable:!1})});const g=r.default._resolveFilename;r.default._resolveFilename=function(e,t,a,s){e.startsWith("node:")&&(e=e.slice(5));const i=T(e);if(i&&(e=i),t&&F.test(t.filename)){const l=c.resolveTsPath(e);if(l)try{return g.call(this,l,t,a,s)}catch(f){if(f.code!=="MODULE_NOT_FOUND")throw f}}return g.call(this,e,t,a,s)};
